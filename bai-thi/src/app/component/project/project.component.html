<div class="container">
  <div class='table-responsive'>
    <div class="card mt-2">
      <div class="card-body">
        <table class='table table-hover' *ngIf="projects">
          <thead>
          <tr class="bg-light">
            <th>STT</th>
            <th>Mã bệnh án</th>
            <th>Mã bệnh nhân</th>
            <th>Tên bệnh nhân</th>
            <th>Ngày nhập viện</th>
            <th>Ngày ra viện</th>
            <th>Lý do nhập viện</th>
            <th>Phương pháp điều trị</th>
            <th>Bác sĩ điều trị</th>
            <th>Tác vụ</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let project of projects">

            <td>{{project.id}}</td>
            <td>{{project.projectCode}}</td>
            <td>{{project.person.personCode}}</td>
            <td>{{project.person.personName}}</td>
            <td>{{project.projectDateIn | date: 'dd/MM/yyyy'}}</td>
            <td>{{project.projectDateOut | date: 'dd/MM/yyyy'}}</td>
            <td>{{project.projectReason}}</td>
            <td>{{project.projectMethod}}</td>
            <td>{{project.projectBS}}</td>
            <td>
              <a class="btn btn-outline-warning" role="button" routerLink="/project/update/{{project.id}}">Sửa</a>
              <!-- Button trigger modal delete -->
              <button type="button" class="btn btn-outline-danger me-2" data-bs-toggle="modal" data-bs-target="#delete"
                      (click)="getProject(project.id)">Xóa
              </button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


<!-- Modal delete -->
<div *ngIf="project" class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="modelTitleIdDelete"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="modelTitleIdDelete"></h4>
      </div>
      <div class="modal-body">
        <p>Bạn có muốn xóa thông tin bệnh án: {{project.projectCode}}?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary me-1" data-bs-dismiss="modal">Không</button>
        <button type="submit" class="btn btn-primary" data-bs-dismiss="modal"
                (click)="removeProject()">Có
        </button>
      </div>
    </div>
  </div>
</div>
